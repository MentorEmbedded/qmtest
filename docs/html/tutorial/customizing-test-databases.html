<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5. Test Databases</title><link rel="stylesheet" type="text/css" href="cs.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="QMTest: User's Guide"><link rel="up" href="customizing.html" title="Chapter 3. Customizing QMTest"><link rel="prev" href="customizing-resources.html" title="4. Test Resources"><link rel="next" href="customizing-expectation-databases.html" title="6. Expectation Databases"><link rel="copyright" href="ln-id335742.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Test Databases</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="customizing-resources.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Customizing <span class="application">QMTest</span></th><td width="20%" align="right"> <a accesskey="n" href="customizing-expectation-databases.html">Next</a></td></tr></table><hr></div><div class="section" title="5. Test Databases"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="customizing-test-databases"></a>5. Test Databases</h2></div></div></div><div class="section" title="5.1. XMLDatabase"><div class="titlepage"><div><div><h3 class="title"><a name="xml-database"></a>5.1. XMLDatabase</h3></div></div></div><p>The XMLDatabase stores its content as a directory hierarchy containing
     XML files. It is the default test database used by <span class="application">QMTest</span>.
     Each QMTest subdirectory is represented by a subdirectory in the filesystem. 
     A test, suite, or resource is represented by an XML file.  These files have file 
     extensions <code class="filename">.qmt</code>, <code class="filename">.qms</code>, and <code class="filename">.qma</code>,
     respectively.</p><p>Expert <span class="application">QMTest</span> users may modify the contents 
     of the test database directly by editing these files.  However, it is the 
     user's responsibility to ensure the integrity and validity of the XML
     contents of each file.  For example, file and directory names should
     contain only characters allowed in identifiers (lower-case letters,
     digits, hyphens, and underscores); a period should only be used
     before a file extension, such as <code class="filename">.qmt</code>.  Also,
     the files and directories in a test database should not be modified
     directly while <span class="application">QMTest</span> is running with that test 
     database.</p></div><div class="section" title="5.2. CompilationTestDatabase"><div class="titlepage"><div><div><h3 class="title"><a name="customizing-compilation-test-database"></a>5.2. <code class="classname">CompilationTestDatabase</code></h3></div></div></div><p>The <span class="type">CompilationTestDatabase</span> associates source files with
     <a class="link" href="customizing-tests.html#customizing-compilation-test" title="2.4. CompilationTest"><span class="type">CompilationTest</span></a> instances.
     The mapping uses file extensions to determine the programming language, and
     thus, what compiler and compilation flags to use. To create a new test, simply
     add a source file with an appropriate file extension to the test database.</p><p>All tests use the <a class="link" href="customizing-resources.html#compiler-table" title="4.2. CompilerTable">CompilerTable</a>
     resource, and therefor require the appropriate context variables to be
     provided.</p><p>Additionally, more compiler options can be added per test id or even
     subdirectory id. Given the following context file:</p><pre class="screen">
CompilerTable.languages=c
CompilerTable.c_kind=GCC
CompilerTable.c_path=gcc
CompilerTable.c_options=-O2
a.b.c_options=-I /a/b/common
a.b.c.c_options=-I /a/b/c
     </pre><p>a test <code class="varname">a/b/c/test.c</code> will be compiled with
     <span class="command"><strong>gcc -O2 -I /a/b/common -I /a/b/c</strong></span> while a test 
     <code class="varname">a/b/d/test.c</code> will be compiled with <span class="command"><strong>
     gcc -O2 -I /a/b/common</strong></span>.</p><p>The <code class="classname">CompilationTestDatabase</code> takes the following parameters.</p><div class="glosslist"><dl><dt><span class="property">srcdir</span> (text field)</dt><dd><p>The root of the test suite's source tree.</p></dd><dt><span class="property">excluded_subdirs</span> (set field)</dt><dd><p>A set of directory names not to be parsed as subdirectories.</p></dd><dt><span class="property">test_extensions</span> (dictionary field)</dt><dd><p>The mapping from file extensions to programming languages.</p></dd></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="customizing-resources.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="customizing.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="customizing-expectation-databases.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4. Test Resources </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 6. Expectation Databases</td></tr></table></div></body></html>
